<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>celery.utils.timeutils &mdash; Celery 2.6.0rc4 documentation</title>
    
    <link rel="stylesheet" href="../../_static/celery.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/issuetracker.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.6.0rc4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Celery 2.6.0rc4 documentation" href="../../index.html" />
    <link rel="up" title="Internal Module Reference" href="index.html" />
    <link rel="next" title="celery.utils.compat" href="celery.utils.compat.html" />
    <link rel="prev" title="celery.utils.term" href="celery.utils.term.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="celery.utils.compat.html" title="celery.utils.compat"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="celery.utils.term.html" title="celery.utils.term"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">Celery 2.6.0rc4 documentation</a> &raquo;</li>
          <li><a href="../index.html" >Internals</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Internal Module Reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
<div class="deck">

    <h2>Development documentation has MOVED!</h2>
    <p>
    Go to the
    <a href="http://celery.github.com/celery/internals/reference/celery.utils.timeutils.html">new location for this page</a>.

</div>
    <div class="section" id="celery-utils-timeutils">
<h1>celery.utils.timeutils<a class="headerlink" href="#celery-utils-timeutils" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#id1" id="id2">celery.utils.timeutils</a></li>
</ul>
</div>
<span class="target" id="module-celery.utils.timeutils"></span><div class="section" id="id1">
<h2><a class="toc-backref" href="#id2">celery.utils.timeutils</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>This module contains various utilities relating to dates and times.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">copyright:</th><td class="field-body"><ol class="first loweralpha simple" start="3">
<li>2009 - 2012 by Ask Solem.</li>
</ol>
</td>
</tr>
<tr class="field-even field"><th class="field-name">license:</th><td class="field-body"><p class="first last">BSD, see LICENSE for more details.</p>
</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="celery.utils.timeutils.delta_resolution">
<tt class="descclassname">celery.utils.timeutils.</tt><tt class="descname">delta_resolution</tt><big>(</big><em>dt</em>, <em>delta</em><big>)</big><a class="headerlink" href="#celery.utils.timeutils.delta_resolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Round a datetime to the resolution of a timedelta.</p>
<p>If the timedelta is in days, the datetime will be rounded
to the nearest days, if the timedelta is in hours the datetime
will be rounded to the nearest hour, and so on until seconds
which will just return the original datetime.</p>
</dd></dl>

<dl class="function">
<dt id="celery.utils.timeutils.humanize_seconds">
<tt class="descclassname">celery.utils.timeutils.</tt><tt class="descname">humanize_seconds</tt><big>(</big><em>secs</em>, <em>prefix=''</em><big>)</big><a class="headerlink" href="#celery.utils.timeutils.humanize_seconds" title="Permalink to this definition">¶</a></dt>
<dd><p>Show seconds in human form, e.g. 60 is &#8220;1 minute&#8221;, 7200 is &#8220;2
hours&#8221;.</p>
</dd></dl>

<dl class="function">
<dt id="celery.utils.timeutils.maybe_iso8601">
<tt class="descclassname">celery.utils.timeutils.</tt><tt class="descname">maybe_iso8601</tt><big>(</big><em>dt</em><big>)</big><a class="headerlink" href="#celery.utils.timeutils.maybe_iso8601" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>Either datetime | str -&gt; datetime or None -&gt; None</cite></p>
</dd></dl>

<dl class="function">
<dt id="celery.utils.timeutils.maybe_timedelta">
<tt class="descclassname">celery.utils.timeutils.</tt><tt class="descname">maybe_timedelta</tt><big>(</big><em>delta</em><big>)</big><a class="headerlink" href="#celery.utils.timeutils.maybe_timedelta" title="Permalink to this definition">¶</a></dt>
<dd><p>Coerces integer to timedelta if <cite>delta</cite> is an integer.</p>
</dd></dl>

<dl class="function">
<dt id="celery.utils.timeutils.rate">
<tt class="descclassname">celery.utils.timeutils.</tt><tt class="descname">rate</tt><big>(</big><em>rate</em><big>)</big><a class="headerlink" href="#celery.utils.timeutils.rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses rate strings, such as <cite>&#8220;100/m&#8221;</cite> or <cite>&#8220;2/h&#8221;</cite>
and converts them to seconds.</p>
</dd></dl>

<dl class="function">
<dt id="celery.utils.timeutils.remaining">
<tt class="descclassname">celery.utils.timeutils.</tt><tt class="descname">remaining</tt><big>(</big><em>start</em>, <em>ends_in</em>, <em>now=None</em>, <em>relative=False</em><big>)</big><a class="headerlink" href="#celery.utils.timeutils.remaining" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the remaining time for a start date and a timedelta.</p>
<p>e.g. &#8220;how many seconds left for 30 seconds after start?&#8221;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>start</strong> &#8211; Start <a class="reference external" href="http://docs.python.org/dev/library/datetime.html#datetime.datetime" title="(in Python v3.3)"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a>.</li>
<li><strong>ends_in</strong> &#8211; The end delta as a <a class="reference external" href="http://docs.python.org/dev/library/datetime.html#datetime.timedelta" title="(in Python v3.3)"><tt class="xref py py-class docutils literal"><span class="pre">timedelta</span></tt></a>.</li>
<li><strong>relative</strong> &#8211; If enabled the end time will be
calculated using <a class="reference internal" href="#celery.utils.timeutils.delta_resolution" title="celery.utils.timeutils.delta_resolution"><tt class="xref py py-func docutils literal"><span class="pre">delta_resolution()</span></tt></a> (i.e. rounded to the
resolution of <cite>ends_in</cite>).</li>
<li><strong>now</strong> &#8211; Function returning the current time and date,
defaults to <tt class="xref py py-func docutils literal"><span class="pre">datetime.utcnow()</span></tt>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="celery.utils.timeutils.timedelta_seconds">
<tt class="descclassname">celery.utils.timeutils.</tt><tt class="descname">timedelta_seconds</tt><big>(</big><em>delta</em><big>)</big><a class="headerlink" href="#celery.utils.timeutils.timedelta_seconds" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert <a class="reference external" href="http://docs.python.org/dev/library/datetime.html#datetime.timedelta" title="(in Python v3.3)"><tt class="xref py py-class docutils literal"><span class="pre">datetime.timedelta</span></tt></a> to seconds.</p>
<p>Doesn&#8217;t account for negative values.</p>
</dd></dl>

<dl class="function">
<dt id="celery.utils.timeutils.weekday">
<tt class="descclassname">celery.utils.timeutils.</tt><tt class="descname">weekday</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#celery.utils.timeutils.weekday" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the position of a weekday (0 - 7, where 0 is Sunday).</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">weekday</span><span class="p">(</span><span class="s">&quot;sunday&quot;</span><span class="p">),</span> <span class="n">weekday</span><span class="p">(</span><span class="s">&quot;sun&quot;</span><span class="p">),</span> <span class="n">weekday</span><span class="p">(</span><span class="s">&quot;mon&quot;</span><span class="p">)</span>
<span class="go">(0, 0, 1)</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><p class="logo"><a href="../../index.html">
  <img class="logo" src="http://cloud.github.com/downloads/ask/celery/celery_128.png" alt="Logo"/>
</a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="celery.utils.term.html"
                        title="previous chapter">celery.utils.term</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="celery.utils.compat.html"
                        title="next chapter">celery.utils.compat</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/internals/reference/celery.utils.timeutils.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="celery.utils.compat.html" title="celery.utils.compat"
             >next</a> |</li>
        <li class="right" >
          <a href="celery.utils.term.html" title="celery.utils.term"
             >previous</a> |</li>
        <li><a href="../../index.html">Celery 2.6.0rc4 documentation</a> &raquo;</li>
          <li><a href="../index.html" >Internals</a> &raquo;</li>
          <li><a href="index.html" >Internal Module Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009-2012, Ask Solem &amp; Contributors.
    </div>
  </body>
</html>